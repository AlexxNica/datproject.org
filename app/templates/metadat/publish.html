<div class="app-page" data-spy="scroll" data-target=".breadcrumbs-nav">
  <div class="app-text-container">
    <h1>Publish</h1>

    <div class="breadcrumbs-nav">
      <ul class="breadcrumbs" role="tablist">
        <li><a href="#preview" class="active no-page">Preview</a></li>
        <li><a href="#authorize" class="no-page">Authorize</a></li>
        <li><a href="#submit" class="no-page">Submit</a></li>
      </ul>
    </div>

    <div class="form-horizontal breadcrumbs-content" role="form">
      <div id="preview">
        <p class="publish-intro-text">
          {{state.introText}}
        </p>

        <div class="form-group {{ state.name == 'previewFailure' ? 'has-error' : ''}} ">
          <div class="{{ state.name == 'preview' ? 'col-sm-10' : 'col-sm-8 col-sm-offset-2'}}">

            <input type="text" class="form-control" placeholder="http://"
                value="{{metadat.url}}" />

            <p class="{{ state.name != 'begin' ? 'hidden' : ''}} help-block">Don't have one?
              <a href="/docs#begin">Don't worry, it just takes a minute.</a>
            </p>

          </div>

          <div class="col-sm-2">
            <button type="submit" on-click="nextState"
               class="btn btn-success">Next</button>
          </div>
        </div>

      {{#if state.name == 'preview'}}
        <div class="preview-frame">

          {{#if loading}}
            <div class="loading">
            </div>
          {{else}}
            <iframe src="{{metadat.url}}"></iframe>
            <div class="json"><pre class="col-sm-12">{{metadat.json}}</pre></div>
          {{/if}}

        </div>
      {{/if}}

      </div>


      <div id="authorize" class="{{state.name == 'authorize'  ? 'visible' : 'hidden'}}">
        <div class="form-group">
          <div class="col-sm-6">
            <input type="text" class="form-control" id="inputHandle"
              placeholder="Enter your username..."  />
          </div>
          <div class="col-sm-6">
            <p class="side help-block">You made this when creating your dat.</p>
          </div>
        </div>

        <div class="form-group">
          <div class="col-sm-6">
            <input type="password" class="form-control" id="inputName"
              placeholder="Enter your password..."  />
          </div>
          <div class="col-sm-6">
            <p class="side help-block">You created a password at the same time too. </p>
            <p class="help-block"><a href="/docs#password">Did you forget? It's ok.</a></p>
          </div>
        </div>
      </div>

      <div id="submit" class="{{state.name == 'submit' ? 'visible' : 'hidden'}}">
        <h2>This stuff is pulled automatically from the dat.json file</h2>
            <p class="help-block">You can change it here but it won't update on your .</p>
        <div class="form-group">
          <label for="inputName" class="col-sm-2 control-label">Name</label>
          <div class="col-sm-10">
            <input type="text" class="form-control" id="inputName"
              value="{{metadat.name}}"  />
          </div>
        </div>

        <div class="form-group">
          <label for="inputDescription" class="col-sm-2 control-label">Description</label>
          <div class="col-sm-10">
            <textarea class="form-control" id="inputDescription"
              value="{{metadat.description}}"></textarea>
          </div>
        </div>


        <div class="form-group">
          <div class="col-sm-offset-10 col-sm-12">
            <button type="submit" class="btn btn-success" disabled>Publish</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
